# 浏览器运行原理
浏览器是一个多进程的应用，其中的主进程中又包含了js线程、UI渲染线程、事件线程、定时器触发线程、HTTP请求线程等等。

而js是可以操作DOM的，如果在UI渲染的过程中允许js操作DOM，则会造成结果的不可预期，所以互斥了js于UI的执行。在js执行的过程中UI会被挂起，UI的更新会被保存到队列中，当js执行完毕后再清空这个队列。

而对于事件线程，每当一个事件被触发，事件线程就会把相应的callback push到队末，等待js线程空闲后处理。

所以当js长时间执行时，UI、事件都得不到及时的执行，就会给用户造成页面卡顿，触发的事件也得不到响应。

sync模式下的问题就是因为浏览器的运行原理造成的。当然，造成页面卡顿的原因也不仅仅就是js的执行，有时候长时间的paint、layout也会造成卡顿。但是jser可控的只有js。
> 对于浏览器各个线程的具体作用以及具体细节会在之后的关于browser系列文章写，现在只需要关系大概的原理即可。

那既然长时间执行js会造成以上后果，这个执行时间是多少合适？现在大多数设备的刷新频率是60FPS，所以每一次更新显示器之间的间隔时间就是1 / 60s = 16.66mm。
