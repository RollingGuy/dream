# 前言
Vue中的很多选项，同一个选项可以有多种不同的写法，Vue是怎么办到的？

# mergeOptions
```javascript
export function mergeOptions (
  parent: Object, // Vue.options
  child: Object,  // options
  vm?: Component  // vm
): Object {
  if (process.env.NODE_ENV !== 'production') {
    // 对组件的名称进行检测，必须以字母开头-分隔、不能与原生html同名
    checkComponents(child)
  }

  if (typeof child === 'function') {
    child = child.options
  }

  normalizeProps(child, vm) // 规范props为对象，key为驼峰形式
  normalizeInject(child, vm)  // 规范inject为对象，key为驼峰
  normalizeDirectives(child)  // 一样，将directive统一为对象形式，如果是函数，则这个函数将作为那个指令的bind和update
  
  // Apply extends and mixins on the child options,
  // but only if it is a raw options object that isn't
  // the result of another mergeOptions call.
  // Only merged options has the _base property.
  if (!child._base) {
    if (child.extends) {
      parent = mergeOptions(parent, child.extends, vm)
    }
    if (child.mixins) {
      for (let i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm)
      }
    }
  }

  const options = {}
  let key
  for (key in parent) {
    mergeField(key)
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key)
    }
  }
  function mergeField (key) {
    const strat = strats[key] || defaultStrat
    options[key] = strat(parent[key], child[key], vm, key)
  }
  return options
}
```

> 可以看到，在进行merge操作之前进行了一系列的normalize，这些操作将props、inject、directive等可以有多种写法的选项规范化为一种：全部都是对象，对象的key为小驼峰。